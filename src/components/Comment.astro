---
import { Image } from "astro:assets";
import ImageAoi from "../images/tetra_face_aoi.png";
import ImageMio from "../images/tetra_face_mio.png";
import ImageHatsune from "../images/tetra_face_hatsune.png";
import ImageHaruka from "../images/tetra_face_haruka.png";

const { character } = Astro.props;

let src = ImageAoi;
let characterName = "";

switch (character) {
  case "aoi":
    src = ImageAoi;
    characterName = "柏木葵";
    break;
  case "mio":
    src = ImageMio;
    characterName = "明石澪";
    break;
  case "hatsune":
    src = ImageHatsune;
    characterName = "須磨初音";
    break;
  case "haruka":
    src = ImageHaruka;
    characterName = "桐咲春花";
}
---

<div class="character-comment">
  <div class="character">
    <Image src={src} alt={characterName} loading="eager" widths={[64, 128]} />
    <div class="character-name">{characterName}</div>
  </div>
  <div class="character-text"><slot /></div>
</div>

<style>
  .character-comment {
    display: flex;
    flex-direction: row;
    border-radius: 36px;
    padding: 16px;
    width: 600px;
    max-width: 100%;
    box-sizing: border-box;
    gap: 2%;
    margin-block-start: var(--margin-block);
    background: white;
    border: 0.11px solid var(--color);
    transform: translateZ(0);
  }

  .character {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 0 0 auto;
  }

  img {
    width: 57px;
    height: 57px;
    border-radius: 100%;
  }

  .character-comment {
    height: auto;
    overflow: hidden;
    transition: all 0.3s;
  }

  .character-comment.hidden {
    height: 0;
    padding: 0;
    margin: 0;
    opacity: 0;
  }
</style>
